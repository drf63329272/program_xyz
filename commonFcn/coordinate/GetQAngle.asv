%% xyz 2015.4.23
% 从四元数中提取角度

function angle = GetQAngle( Q )


Q = Make_Const_N(Q,4);
[ Q_NormVector,signMultiply ] = GetNormVectorQ( Q );

N = size(Q,2);
angle =  zeros(1,N);
for k=1:N
    angle(k) = acot ;
end


function angle = GetQAngle_One( Q )
cosHalfAngle = Q(1) ;
if sign(Q(2))~=0
    signQv = sign(Q(2)) ;   
else
    signQv = sign(Q(3))   
end
sinHalfAngle = normest(Q(2:4)) * signQv ;      % 很粗糙的 符号 判断
angle = atan2( sinHalfAngle,cosHalfAngle );

