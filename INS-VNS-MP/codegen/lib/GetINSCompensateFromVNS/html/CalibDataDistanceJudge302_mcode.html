<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="76,146" id="srcline146">146</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,147" id="srcline147">147</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,148" id="srcline148">148</a></span><span class="line"><span class="comment">%% 判断从 search_k_start 到 search_k_end 的这一段位移长度是否够长</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,149" id="srcline149">149</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S61T2U629">IsCalibDataDistanceOK</span>,<span class="var type1" id="S62T2U630">dX_xyNorm_VS</span> ] = CalibDataDistanceJudge( <span class="var type1" id="S63T44U633">trackedMakerPosition</span>,<span class="var type1" id="S64T4U634">search_k_start</span>,<span class="var type1" id="S65T2U635">search_k_end</span>,<span class="var type1" id="S66T36U636">INSVNSCalibSet</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="76,150" id="srcline150">150</a></span><span class="line"><span class="comment">%% 阈值参数设置</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,151" id="srcline151">151</a></span><span class="line"><span class="mxinfo" id="T2:U7"><span class="var type1" id="S67T2U639">Min_xyNorm_Calib</span> = <span class="mxinfo" id="T2:U9"><span class="var type1" id="S66T36U641">INSVNSCalibSet</span>.Min_xyNorm_Calib</span></span> ; <span class="comment">% m  用于标定的数据的最小运动位移长度</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,152" id="srcline152">152</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,153" id="srcline153">153</a></span><span class="line"><span class="mxinfo" id="T6:U11"><span class="var type1" id="S68T6U645">trackedMakerPosition_start</span> = <span class="mxinfo" id="T6:U13"><span class="var type1" id="S63T44U647">trackedMakerPosition</span>( :,<span class="var type1" id="S64T4U649">search_k_start</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,154" id="srcline154">154</a></span><span class="line"><span class="mxinfo" id="T6:U16"><span class="var type1" id="S69T6U652">trackedMakerPosition_end</span> = <span class="mxinfo" id="T6:U18"><span class="var type1" id="S63T44U654">trackedMakerPosition</span>( :,<span class="var type1" id="S65T2U656">search_k_end</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,155" id="srcline155">155</a></span><span class="line"><span class="mxinfo" id="T6:U21"><span class="var type1" id="S70T6U659">dX_VS</span> = <span class="mxinfo" id="T6:U23"><span class="var type1" id="S69T6U661">trackedMakerPosition_end</span>-<span class="var type1" id="S68T6U662">trackedMakerPosition_start</span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="76,156" id="srcline156">156</a></span><span class="line"><span class="mxinfo" id="T6:U26"><span class="var type1" id="S71T6U665">dX_xy_VS</span> = <span class="var type1" id="S70T6U666">dX_VS</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,157" id="srcline157">157</a></span><span class="line"><span class="mxinfo" id="T2:U29"><span class="mxinfo" id="T2:U30"><span class="var type1" id="S71T6U670">dX_xy_VS</span>(<span class="mxinfo" id="T2:U32">3</span>)</span> = <span class="mxinfo" id="T2:U33">0</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="76,158" id="srcline158">158</a></span><span class="line"><span class="mxinfo" id="T2:U34"><span class="var type1" id="S62T2U675">dX_xyNorm_VS</span> = <span class="mxinfo" id="T2:U36">normest(<span class="var type1" id="S71T6U678">dX_xy_VS</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="76,159" id="srcline159">159</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T14:U38"><span class="var type1" id="S62T2U682">dX_xyNorm_VS</span> &gt; <span class="mxinfo" id="T2:U40"><span class="var type1" id="S67T2U683">Min_xyNorm_Calib</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,160" id="srcline160">160</a></span><span class="line">    <span class="mxinfo" id="T2:U42"><span class="var type1" id="S61T2U686">IsCalibDataDistanceOK</span> = <span class="mxinfo" id="T2:U44">1</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="76,161" id="srcline161">161</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,162" id="srcline162">162</a></span><span class="line">    <span class="comment">% 位移长度太短</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,163" id="srcline163">163</a></span><span class="line">    <span class="mxinfo" id="T2:U45"><span class="var type1" id="S61T2U691">IsCalibDataDistanceOK</span> = <span class="mxinfo" id="T2:U47">0</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="76,164" id="srcline164">164</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="76,165" id="srcline165">165</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="76,166" id="srcline166">166</a></span><span class="line"><span class="comment">%% 判断从 search_k_start 到 search_k_end 的这一段速度是否满足条件</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,167" id="srcline167">167</a></span><span class="line"><span class="comment">% 1） 速度z模小于 MaxVZ_Calib</span></span></span>
<span class="srcline"><span class="lineno"><a href="76,168" id="srcline168">168</a></span><span class="line"><span class="comment">% 2） 速度xy模大于 MinVXY_Calib</span></span></span>
</pre>
