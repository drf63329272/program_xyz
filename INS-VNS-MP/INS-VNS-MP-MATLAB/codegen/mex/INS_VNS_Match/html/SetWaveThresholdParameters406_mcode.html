<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="30,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%% xyz 2015.6.28</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%% 波形分析的参数设置</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">% dataStyle： 待分析的数据类型</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,6" id="srcline6"> 6</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T40U3">waveThreshold</span> = SetWaveThresholdParameters( <span class="mxinfo" id="T39:U2"><span class="var type2" id="S3T39V7U6">dataStyle</span></span> )</span></span>
<span class="srcline"><span class="lineno"><a href="30,7" id="srcline7"> 7</a></span><span class="line"><span class="keyword">switch</span> <span class="var type1" id="S3T39U8">dataStyle</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,8" id="srcline8"> 8</a></span><span class="line">    <span class="keyword">case</span> <span class="string">'INSAcc'</span> </span></span>
<span class="srcline"><span class="lineno"><a href="30,9" id="srcline9"> 9</a></span><span class="line">        <span class="var type0" id="S2T0U14">waveThreshold</span>.adjacentT = 0.09;  <span class="comment">%  波峰波谷判断延迟时间</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,10" id="srcline10">10</a></span><span class="line">        <span class="var type0" id="S2T0U20">waveThreshold</span>.waveThreshold_Min_dataA  = 30;  <span class="comment">%   波峰/波谷 data_V 的斜率（即data的加速度）最小值</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,11" id="srcline11">11</a></span><span class="line">        <span class="var type0" id="S2T0U26">waveThreshold</span>.MinWaveData = 0.3;   <span class="comment">% 波峰波谷处 abs(data) 最小值</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,12" id="srcline12">12</a></span><span class="line">        <span class="var type0" id="S2T0U32">waveThreshold</span>.dT_CalV = 0.15;       <span class="comment">% 速度计算的步长时间</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,13" id="srcline13">13</a></span><span class="line">        <span class="var type0" id="S2T0U38">waveThreshold</span>.MinXYVNorm_CalAngle = 2;  <span class="comment">% 计算xy速度方向要求的最小xy速度模值  </span></span></span>
<span class="srcline"><span class="lineno"><a href="30,14" id="srcline14">14</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="30,15" id="srcline15">15</a></span><span class="line">    <span class="keyword">case</span> <span class="string">'VNSAcc'</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,16" id="srcline16">16</a></span><span class="line">        <span class="mxinfo" id="T2:U5"><span class="mxinfo" id="T2:U6"><span class="var type1" id="S2T40U46">waveThreshold</span>.adjacentT</span> = <span class="mxinfo" id="T2:U8">0.09</span></span>;  <span class="comment">%  波峰波谷判断延迟时间</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,17" id="srcline17">17</a></span><span class="line">        <span class="mxinfo" id="T2:U9"><span class="mxinfo" id="T2:U10"><span class="var type1" id="S2T40U52">waveThreshold</span>.waveThreshold_Min_dataA</span>  = <span class="mxinfo" id="T2:U12">20</span></span>;  <span class="comment">%   波峰/波谷 data_V 的斜率（即data的加速度）最小值</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,18" id="srcline18">18</a></span><span class="line">        <span class="mxinfo" id="T2:U13"><span class="mxinfo" id="T2:U14"><span class="var type1" id="S2T40U58">waveThreshold</span>.MinWaveData</span> = <span class="mxinfo" id="T2:U16">0.3</span></span>;   <span class="comment">% 波峰波谷处 abs(data) 最小值</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,19" id="srcline19">19</a></span><span class="line">        <span class="mxinfo" id="T2:U17"><span class="mxinfo" id="T2:U18"><span class="var type1" id="S2T40U64">waveThreshold</span>.dT_CalV</span> = <span class="mxinfo" id="T2:U20">0.1</span></span>;       <span class="comment">% 速度计算的步长时间</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,20" id="srcline20">20</a></span><span class="line">        <span class="mxinfo" id="T2:U21"><span class="mxinfo" id="T2:U22"><span class="var type1" id="S2T40U70">waveThreshold</span>.MinXYVNorm_CalAngle</span> = <span class="mxinfo" id="T2:U24">2</span></span>;  <span class="comment">% 计算xy速度方向要求的最小xy速度模值  </span></span></span>
<span class="srcline"><span class="lineno"><a href="30,21" id="srcline21">21</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="30,22" id="srcline22">22</a></span><span class="line"></span></span>
</pre>
