<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="74,146" id="srcline146">146</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="74,147" id="srcline147">147</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="74,148" id="srcline148">148</a></span><span class="line"><span class="comment">%% 判断从 search_k_start 到 search_k_end 的这一段位移长度是否够长</span></span></span>
<span class="srcline"><span class="lineno"><a href="74,149" id="srcline149">149</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S60T2U625">IsCalibDataDistanceOK</span>,<span class="var type1" id="S61T2U626">dX_xyNorm_VS</span> ] = CalibDataDistanceJudge( <span class="var type1" id="S62T47U629">trackedMakerPosition</span>,<span class="var type1" id="S63T2U630">search_k_start</span>,<span class="var type1" id="S64T2U631">search_k_end</span>,<span class="var type1" id="S65T40U632">INSVNSCalibSet</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="74,150" id="srcline150">150</a></span><span class="line"><span class="comment">%% 阈值参数设置</span></span></span>
<span class="srcline"><span class="lineno"><a href="74,151" id="srcline151">151</a></span><span class="line"><span class="mxinfo" id="T2:U7"><span class="var type1" id="S66T2U635">Min_xyNorm_Calib</span> = <span class="mxinfo" id="T2:U9"><span class="var type1" id="S65T40U637">INSVNSCalibSet</span>.Min_xyNorm_Calib</span></span> ; <span class="comment">% m  用于标定的数据的最小运动位移长度</span></span></span>
<span class="srcline"><span class="lineno"><a href="74,152" id="srcline152">152</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="74,153" id="srcline153">153</a></span><span class="line"><span class="mxinfo" id="T6:U11"><span class="var type1" id="S67T6U641">trackedMakerPosition_start</span> = <span class="mxinfo" id="T6:U13"><span class="var type1" id="S62T47U643">trackedMakerPosition</span>( :,<span class="var type1" id="S63T2U645">search_k_start</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="74,154" id="srcline154">154</a></span><span class="line"><span class="mxinfo" id="T6:U16"><span class="var type1" id="S68T6U648">trackedMakerPosition_end</span> = <span class="mxinfo" id="T6:U18"><span class="var type1" id="S62T47U650">trackedMakerPosition</span>( :,<span class="var type1" id="S64T2U652">search_k_end</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="74,155" id="srcline155">155</a></span><span class="line"><span class="mxinfo" id="T6:U21"><span class="var type1" id="S69T6U655">dX_VS</span> = <span class="mxinfo" id="T6:U23"><span class="var type1" id="S68T6U657">trackedMakerPosition_end</span>-<span class="var type1" id="S67T6U658">trackedMakerPosition_start</span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="74,156" id="srcline156">156</a></span><span class="line"><span class="mxinfo" id="T6:U26"><span class="var type1" id="S70T6U661">dX_xy_VS</span> = <span class="var type1" id="S69T6U662">dX_VS</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="74,157" id="srcline157">157</a></span><span class="line"><span class="mxinfo" id="T2:U29"><span class="mxinfo" id="T2:U30"><span class="var type1" id="S70T6U666">dX_xy_VS</span>(<span class="mxinfo" id="T2:U32">3</span>)</span> = <span class="mxinfo" id="T2:U33">0</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="74,158" id="srcline158">158</a></span><span class="line"><span class="mxinfo" id="T2:U34"><span class="var type1" id="S61T2U671">dX_xyNorm_VS</span> = <span class="mxinfo" id="T2:U36">normest(<span class="var type1" id="S70T6U674">dX_xy_VS</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="74,159" id="srcline159">159</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T14:U38"><span class="var type1" id="S61T2U678">dX_xyNorm_VS</span> &gt; <span class="mxinfo" id="T2:U40"><span class="var type1" id="S66T2U679">Min_xyNorm_Calib</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="74,160" id="srcline160">160</a></span><span class="line">    <span class="mxinfo" id="T2:U42"><span class="var type1" id="S60T2U682">IsCalibDataDistanceOK</span> = <span class="mxinfo" id="T2:U44">1</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="74,161" id="srcline161">161</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="74,162" id="srcline162">162</a></span><span class="line">    <span class="comment">% 位移长度太短</span></span></span>
<span class="srcline"><span class="lineno"><a href="74,163" id="srcline163">163</a></span><span class="line">    <span class="mxinfo" id="T2:U45"><span class="var type1" id="S60T2U687">IsCalibDataDistanceOK</span> = <span class="mxinfo" id="T2:U47">0</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="74,164" id="srcline164">164</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="74,165" id="srcline165">165</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="74,166" id="srcline166">166</a></span><span class="line"><span class="comment">%% 判断从 search_k_start 到 search_k_end 的这一段速度是否满足条件</span></span></span>
<span class="srcline"><span class="lineno"><a href="74,167" id="srcline167">167</a></span><span class="line"><span class="comment">% 1） 速度z模小于 MaxVZ_Calib</span></span></span>
<span class="srcline"><span class="lineno"><a href="74,168" id="srcline168">168</a></span><span class="line"><span class="comment">% 2） 速度xy模大于 MinVXY_Calib</span></span></span>
</pre>
