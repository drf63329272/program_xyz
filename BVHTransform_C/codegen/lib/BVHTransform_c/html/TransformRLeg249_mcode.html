<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,605" id="srcline605">605</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,606" id="srcline606">606</a></span><span class="line"><span class="comment">%% RLeg</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,607" id="srcline607">607</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S575T3U3199">RKneePitch</span>,<span class="var type1" id="S576T7U3200">RightLeg_New</span> ] = TransformRLeg( <span class="var type1" id="S577T18U3203">C_Hip_RUpLegNew</span>,<span class="var type1" id="S578T18U3204">C_Hip_RLeg</span>,<span class="var type1" id="S579T3U3205">rotateOrder_BVH</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,608" id="srcline608">608</a></span><span class="line">coder.inline(<span class="string">'never'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,609" id="srcline609">609</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,610" id="srcline610">610</a></span><span class="line"><span class="mxinfo" id="T18:U6"><span class="var type1" id="S581T18U3214">C_RUpLegNew_Hip</span> = <span class="mxinfo" id="T18:U8"><span class="fcn" id="F78N13:B3216">InverseC_Multi</span>( <span class="var type1" id="S577T18U3217">C_Hip_RUpLegNew</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,611" id="srcline611">611</a></span><span class="line"><span class="mxinfo" id="T18:U10"><span class="var type1" id="S583T18U3220">C_RUpLegNew_RLeg</span> = <span class="mxinfo" id="T18:U12"><span class="fcn" id="F75N5:B3222">CalculateC_Multi</span>( <span class="var type1" id="S581T18U3223">C_RUpLegNew_Hip</span>,<span class="var type1" id="S578T18U3224">C_Hip_RLeg</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,612" id="srcline612">612</a></span><span class="line"><span class="mxinfo" id="T7:U15"><span class="var type1" id="S585T7U3227">rotateDirection_BVH</span> = <span class="mxinfo" id="T7:U17">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,613" id="srcline613">613</a></span><span class="line"><span class="mxinfo" id="T7:U18"><span class="var type1" id="S586T7U3235">E_RUpLegNew_RLeg</span> = <span class="mxinfo" id="T7:U20"><span class="fcn" id="F96N4:B3237">CToEuler_c</span>( <span class="var type1" id="S583T18U3238">C_RUpLegNew_RLeg</span>,<span class="mxinfo" id="T3:U22">123</span>,<span class="mxinfo" id="T7:U23"><span class="var type1" id="S585T7U3240">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,614" id="srcline614">614</a></span><span class="line"><span class="mxinfo" id="T3:U25"><span class="var type1" id="S575T3U3243">RKneePitch</span> = <span class="mxinfo" id="T3:U27"><span class="var type1" id="S586T7U3246">E_RUpLegNew_RLeg</span>(:,<span class="mxinfo" id="T3:U29">1</span>)</span>'</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,615" id="srcline615">615</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,616" id="srcline616">616</a></span><span class="line"><span class="comment">% E_UpLeg_Leg = CToEuler_c( C_RUpLeg_RLeg,123 );</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,617" id="srcline617">617</a></span><span class="line"><span class="comment">% RKneePitch = E_UpLeg_Leg(:,1)';</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,618" id="srcline618">618</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,619" id="srcline619">619</a></span><span class="line"><span class="comment">%%% get new BVH</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,620" id="srcline620">620</a></span><span class="line"><span class="mxinfo" id="T7:U30"><span class="var type1" id="S588T7U3251">E_RUpLegNew_RLegNew</span> = <span class="var type1" id="S586T7U3252">E_RUpLegNew_RLeg</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,621" id="srcline621">621</a></span><span class="line"><span class="mxinfo" id="T24:U33"><span class="mxinfo" id="T24:U34"><span class="var type1" id="S588T7U3256">E_RUpLegNew_RLegNew</span>(:,2:3)</span> = <span class="mxinfo" id="T3:U36">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,622" id="srcline622">622</a></span><span class="line"><span class="mxinfo" id="T18:U37"><span class="var type1" id="S589T18U3264">C_RUpLegNew_RLegNew</span> = <span class="mxinfo" id="T18:U39"><span class="fcn" id="F45N11:B3266">EulerToC_c</span>( <span class="var type1" id="S588T7U3267">E_RUpLegNew_RLegNew</span>,<span class="mxinfo" id="T3:U41">123</span>,<span class="mxinfo" id="T7:U42">[1,1,1]</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,623" id="srcline623">623</a></span><span class="line"><span class="mxinfo" id="T7:U43"><span class="var type1" id="S576T7U3276">RightLeg_New</span> = <span class="mxinfo" id="T7:U45"><span class="fcn" id="F96N4:B3278">CToEuler_c</span>( <span class="var type1" id="S589T18U3279">C_RUpLegNew_RLegNew</span>,<span class="var type1" id="S579T3U3280">rotateOrder_BVH</span>,<span class="mxinfo" id="T7:U48"><span class="var type1" id="S585T7U3281">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,624" id="srcline624">624</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,625" id="srcline625">625</a></span><span class="line"><span class="comment">%% LLeg</span></span></span>
</pre>
