<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,465" id="srcline465">465</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,466" id="srcline466">466</a></span><span class="line"><span class="comment">%% LHand</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,467" id="srcline467">467</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S461T3U2356">LWristYaw</span>,<span class="var type1" id="S462T7U2357">LeftHand_new</span> ] = TransformLHand( <span class="var type1" id="S463T18U2360">C_Spine_LHand</span>,<span class="var type1" id="S464T18U2361">C_Spine_LForeArmNew</span>,<span class="var type1" id="S465T3U2362">rotateOrder_BVH</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,468" id="srcline468">468</a></span><span class="line">coder.inline(<span class="string">'never'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,469" id="srcline469">469</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,470" id="srcline470">470</a></span><span class="line"><span class="mxinfo" id="T7:U6"><span class="var type1" id="S467T7U2371">rotateDirection_BVH</span> = <span class="mxinfo" id="T7:U8">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,471" id="srcline471">471</a></span><span class="line"><span class="mxinfo" id="T18:U9"><span class="var type1" id="S468T18U2379">C_LForeArmNew_Spine</span> = <span class="mxinfo" id="T18:U11"><span class="fcn" id="F78N13:B2381">InverseC_Multi</span>( <span class="var type1" id="S464T18U2382">C_Spine_LForeArmNew</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,472" id="srcline472">472</a></span><span class="line"><span class="mxinfo" id="T18:U13"><span class="var type1" id="S470T18U2385">C_LForeArmNew_LHand</span> = <span class="mxinfo" id="T18:U15"><span class="fcn" id="F75N5:B2387">CalculateC_Multi</span>( <span class="var type1" id="S468T18U2388">C_LForeArmNew_Spine</span>,<span class="var type1" id="S463T18U2389">C_Spine_LHand</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,473" id="srcline473">473</a></span><span class="line"><span class="mxinfo" id="T7:U18"><span class="var type1" id="S472T7U2392">E_LForeArmNew_LHand</span> = <span class="mxinfo" id="T7:U20"><span class="fcn" id="F96N4:B2394">CToEuler_c</span>( <span class="var type1" id="S470T18U2395">C_LForeArmNew_LHand</span>,<span class="mxinfo" id="T3:U22">123</span> ,<span class="mxinfo" id="T7:U23"><span class="var type1" id="S467T7U2397">rotateDirection_BVH</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,474" id="srcline474">474</a></span><span class="line"><span class="mxinfo" id="T3:U25"><span class="var type1" id="S461T3U2400">LWristYaw</span> = <span class="mxinfo" id="T3:U27"><span class="var type1" id="S472T7U2403">E_LForeArmNew_LHand</span>(:,<span class="mxinfo" id="T3:U29">1</span>)</span>'</span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,475" id="srcline475">475</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,476" id="srcline476">476</a></span><span class="line"><span class="comment">%%% get new BVH</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,477" id="srcline477">477</a></span><span class="line"><span class="mxinfo" id="T7:U30"><span class="var type1" id="S474T7U2408">LHand_Nao</span> = <span class="mxinfo" id="T7:U32">zeros( size(<span class="var type1" id="S472T7U2413">E_LForeArmNew_LHand</span>) )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,478" id="srcline478">478</a></span><span class="line"><span class="mxinfo" id="T3:U34"><span class="mxinfo" id="T3:U35"><span class="var type1" id="S474T7U2417">LHand_Nao</span>(:,<span class="mxinfo" id="T3:U37">1</span>)</span> = <span class="mxinfo" id="T3:U38"><span class="var type1" id="S472T7U2421">E_LForeArmNew_LHand</span>(:,<span class="mxinfo" id="T3:U40">1</span>)</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,479" id="srcline479">479</a></span><span class="line"><span class="mxinfo" id="T3:U41"><span class="var type1" id="S477T3U2426">Nframes</span> = <span class="mxinfo" id="T3:U43">size(<span class="var type1" id="S463T18U2429">C_Spine_LHand</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,480" id="srcline480">480</a></span><span class="line"><span class="mxinfo" id="T3:U45"><span class="var type1" id="S478T3U2433">LHand_rotateOrder</span> = <span class="mxinfo" id="T3:U47">123</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,481" id="srcline481">481</a></span><span class="line"><span class="mxinfo" id="T7:U48"><span class="var type1" id="S462T7U2437">LeftHand_new</span> = <span class="mxinfo" id="T7:U50">zeros(<span class="mxinfo" id="T3:U51"><span class="var type1" id="S477T3U2440">Nframes</span></span>,<span class="mxinfo" id="T3:U53">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,482" id="srcline482">482</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S479T3U2444">k</span>=<span class="mxinfo" id="T3:U55">1:<span class="var type1" id="S477T3U2447">Nframes</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,483" id="srcline483">483</a></span><span class="line">    <span class="mxinfo" id="T7:U57"><span class="mxinfo" id="T7:U58"><span class="var type1" id="S462T7U2451">LeftHand_new</span>(<span class="mxinfo" id="T3:U60"><span class="var type1" id="S479T3U2452">k</span></span>,:)</span> = <span class="mxinfo" id="T7:U62"><span class="fcn" id="F164N10:B2455">ChangeEulerRotate_c</span>(  <span class="mxinfo" id="T7:U63"><span class="var type1" id="S474T7U2457">LHand_Nao</span>( <span class="mxinfo" id="T3:U65"><span class="var type1" id="S479T3U2458">k</span></span>,: )</span>,<span class="mxinfo" id="T3:U67"><span class="var type1" id="S478T3U2460">LHand_rotateOrder</span></span>,<span class="var type1" id="S465T3U2461">rotateOrder_BVH</span> ,<span class="mxinfo" id="T7:U70">[1,1,1]</span>,<span class="mxinfo" id="T7:U71">[1,1,1]</span> )</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,484" id="srcline484">484</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,485" id="srcline485">485</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,486" id="srcline486">486</a></span><span class="line"><span class="comment">%% RUpLeg</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,487" id="srcline487">487</a></span><span class="line"><span class="comment">% HipYawPitch：左右大腿的 HipYawPitch Angle  [ 1*Nframes ]</span></span></span>
</pre>
