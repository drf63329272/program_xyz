<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,624" id="srcline624">624</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,625" id="srcline625">625</a></span><span class="line"><span class="comment">%% LLeg</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,626" id="srcline626">626</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S592T3U3285">LKneePitch</span>,<span class="var type1" id="S593T7U3286">LeftLeg_New</span> ] = TransformLLeg( <span class="var type1" id="S594T20U3289">C_Hip_LUpLegNew</span>,<span class="var type1" id="S595T20U3290">C_Hip_LLeg</span>,<span class="var type1" id="S596T3U3291">rotateOrder_BVH</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,627" id="srcline627">627</a></span><span class="line">coder.inline(<span class="string">'never'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,628" id="srcline628">628</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,629" id="srcline629">629</a></span><span class="line"><span class="mxinfo" id="T20:U6"><span class="var type1" id="S598T20U3300">C_LUpLegNew_Hip</span> = <span class="mxinfo" id="T20:U8"><span class="fcn" id="F81N13:B3302">InverseC_Multi</span>( <span class="var type1" id="S594T20U3303">C_Hip_LUpLegNew</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,630" id="srcline630">630</a></span><span class="line"><span class="mxinfo" id="T20:U10"><span class="var type1" id="S600T20U3306">C_LUpLegNew_LLeg</span> = <span class="mxinfo" id="T20:U12"><span class="fcn" id="F78N5:B3308">CalculateC_Multi</span>( <span class="var type1" id="S598T20U3309">C_LUpLegNew_Hip</span>,<span class="var type1" id="S595T20U3310">C_Hip_LLeg</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,631" id="srcline631">631</a></span><span class="line"><span class="mxinfo" id="T7:U15"><span class="var type1" id="S602T7U3313">rotateDirection_BVH</span> = <span class="mxinfo" id="T7:U17">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,632" id="srcline632">632</a></span><span class="line"><span class="mxinfo" id="T7:U18"><span class="var type1" id="S603T7U3321">E_LUpLegNew_LLeg</span> = <span class="mxinfo" id="T7:U20"><span class="fcn" id="F99N4:B3323">CToEuler_c</span>( <span class="var type1" id="S600T20U3324">C_LUpLegNew_LLeg</span>,<span class="mxinfo" id="T3:U22">123</span>,<span class="mxinfo" id="T7:U23"><span class="var type1" id="S602T7U3326">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,633" id="srcline633">633</a></span><span class="line"><span class="mxinfo" id="T3:U25"><span class="var type1" id="S592T3U3329">LKneePitch</span> = <span class="mxinfo" id="T3:U27"><span class="var type1" id="S603T7U3332">E_LUpLegNew_LLeg</span>(:,<span class="mxinfo" id="T3:U29">1</span>)</span>'</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,634" id="srcline634">634</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,635" id="srcline635">635</a></span><span class="line"><span class="comment">% figure('name','LeftLeg_Nao')</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,636" id="srcline636">636</a></span><span class="line"><span class="comment">% subplot(3,1,1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,637" id="srcline637">637</a></span><span class="line"><span class="comment">% plot(E_LUpLegNew_LLeg(:,1)*180/pi,'r'  )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,638" id="srcline638">638</a></span><span class="line"><span class="comment">% ylabel('x')</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,639" id="srcline639">639</a></span><span class="line"><span class="comment">% subplot(3,1,2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,640" id="srcline640">640</a></span><span class="line"><span class="comment">% plot(E_LUpLegNew_LLeg(:,2)*180/pi,'b'  )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,641" id="srcline641">641</a></span><span class="line"><span class="comment">% ylabel('y')</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,642" id="srcline642">642</a></span><span class="line"><span class="comment">% subplot(3,1,3)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,643" id="srcline643">643</a></span><span class="line"><span class="comment">% plot(E_LUpLegNew_LLeg(:,3)*180/pi,'k'  )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,644" id="srcline644">644</a></span><span class="line"><span class="comment">% ylabel('z')</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,645" id="srcline645">645</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,646" id="srcline646">646</a></span><span class="line"><span class="comment">%%% get new BVH</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,647" id="srcline647">647</a></span><span class="line"><span class="mxinfo" id="T7:U30"><span class="var type1" id="S605T7U3337">E_LUpLegNew_LLegNew</span> = <span class="var type1" id="S603T7U3338">E_LUpLegNew_LLeg</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,648" id="srcline648">648</a></span><span class="line"><span class="mxinfo" id="T26:U33"><span class="mxinfo" id="T26:U34"><span class="var type1" id="S605T7U3342">E_LUpLegNew_LLegNew</span>(:,2:3)</span> = <span class="mxinfo" id="T3:U36">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,649" id="srcline649">649</a></span><span class="line"><span class="mxinfo" id="T20:U37"><span class="var type1" id="S606T20U3350">C_LUpLegNew_LLegNew</span> = <span class="mxinfo" id="T20:U39"><span class="fcn" id="F48N11:B3352">EulerToC_c</span>( <span class="var type1" id="S605T7U3353">E_LUpLegNew_LLegNew</span>,<span class="mxinfo" id="T3:U41">123</span>,<span class="mxinfo" id="T7:U42">[1,1,1]</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,650" id="srcline650">650</a></span><span class="line"><span class="mxinfo" id="T7:U43"><span class="var type1" id="S602T7U3362">rotateDirection_BVH</span> = <span class="mxinfo" id="T7:U45">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,651" id="srcline651">651</a></span><span class="line"><span class="mxinfo" id="T7:U46"><span class="var type1" id="S593T7U3370">LeftLeg_New</span> = <span class="mxinfo" id="T7:U48"><span class="fcn" id="F99N4:B3372">CToEuler_c</span>( <span class="var type1" id="S606T20U3373">C_LUpLegNew_LLegNew</span>,<span class="var type1" id="S596T3U3374">rotateOrder_BVH</span>,<span class="mxinfo" id="T7:U51"><span class="var type1" id="S602T7U3375">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,652" id="srcline652">652</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,653" id="srcline653">653</a></span><span class="line"><span class="comment">%% RFoot</span></span></span>
</pre>
