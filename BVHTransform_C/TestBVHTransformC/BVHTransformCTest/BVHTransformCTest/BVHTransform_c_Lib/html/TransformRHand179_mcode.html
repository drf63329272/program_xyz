<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,382" id="srcline382">382</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,383" id="srcline383">383</a></span><span class="line"><span class="comment">%% RHand</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,384" id="srcline384">384</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S420T2U2065">RWristYaw</span>,<span class="var type1" id="S421T8U2066">RightHand_new</span> ] = TransformRHand( <span class="var type1" id="S422T17U2069">C_Spine_RHand</span>,<span class="var type1" id="S423T17U2070">C_Spine_RForeArmNew</span>,<span class="mxinfo" id="T7:U5"><span class="var type2" id="S424T7V1U2071">rotateOrder_BVH</span></span> ) </span></span>
<span class="srcline"><span class="lineno"><a href="1,385" id="srcline385">385</a></span><span class="line"><span class="mxinfo" id="T17:U7"><span class="var type1" id="S425T17U2074">C_RForeArmNew_Spine</span> = <span class="mxinfo" id="T17:U9"><span class="fcn" id="F76N9:B2076">InverseC_Multi</span>( <span class="var type1" id="S423T17U2077">C_Spine_RForeArmNew</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,386" id="srcline386">386</a></span><span class="line"><span class="mxinfo" id="T17:U11"><span class="var type1" id="S427T17U2080">C_RForeArmNew_RHand</span> = <span class="mxinfo" id="T17:U13"><span class="fcn" id="F73N4:B2082">CalculateC_Multi</span>( <span class="var type1" id="S425T17U2083">C_RForeArmNew_Spine</span>,<span class="var type1" id="S422T17U2084">C_Spine_RHand</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,387" id="srcline387">387</a></span><span class="line"><span class="mxinfo" id="T8:U16"><span class="var type1" id="S429T8U2087">E_RForeArmNew_RHand</span> = <span class="mxinfo" id="T8:U18"><span class="fcn" id="F178N23:B2089">CToEuler_c</span>( <span class="var type1" id="S427T17U2090">C_RForeArmNew_RHand</span>,<span class="string">'XYZ'</span>,<span class="mxinfo" id="T8:U20">[-1,1,1]</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,388" id="srcline388">388</a></span><span class="line"><span class="mxinfo" id="T2:U21"><span class="var type1" id="S420T2U2100">RWristYaw</span> = <span class="mxinfo" id="T2:U23"><span class="var type1" id="S429T8U2103">E_RForeArmNew_RHand</span>(:,<span class="mxinfo" id="T2:U25">1</span>)</span>'</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,389" id="srcline389">389</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,390" id="srcline390">390</a></span><span class="line"><span class="comment">%%% get new BVH</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,391" id="srcline391">391</a></span><span class="line"><span class="mxinfo" id="T8:U26"><span class="var type1" id="S431T8U2108">RHand_Nao</span> = <span class="mxinfo" id="T8:U28">zeros( size(<span class="var type1" id="S429T8U2113">E_RForeArmNew_RHand</span>) )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,392" id="srcline392">392</a></span><span class="line"><span class="mxinfo" id="T2:U30"><span class="mxinfo" id="T2:U31"><span class="var type1" id="S431T8U2117">RHand_Nao</span>(:,<span class="mxinfo" id="T2:U33">1</span>)</span> = <span class="mxinfo" id="T2:U34"><span class="var type1" id="S429T8U2121">E_RForeArmNew_RHand</span>(:,<span class="mxinfo" id="T2:U36">1</span>)</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,393" id="srcline393">393</a></span><span class="line"><span class="mxinfo" id="T2:U37"><span class="var type1" id="S434T2U2126">Nframes</span> = <span class="mxinfo" id="T2:U39">size(<span class="var type1" id="S422T17U2129">C_Spine_RHand</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,394" id="srcline394">394</a></span><span class="line"><span class="mxinfo" id="T7:U41"><span class="var type1" id="S435T7U2133">RHand_rotateOrder</span> = <span class="mxinfo" id="T7:U43"><span class="string">'XYZ'</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,395" id="srcline395">395</a></span><span class="line"><span class="mxinfo" id="T8:U44"><span class="var type1" id="S436T8U2137">RHand_rotateDirection</span> = <span class="mxinfo" id="T8:U46">[-1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,396" id="srcline396">396</a></span><span class="line"><span class="mxinfo" id="T8:U47"><span class="var type1" id="S437T8U2146">rotateDirection_BVH</span> = <span class="mxinfo" id="T8:U49">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,397" id="srcline397">397</a></span><span class="line"><span class="mxinfo" id="T8:U50"><span class="var type1" id="S421T8U2154">RightHand_new</span> = <span class="mxinfo" id="T8:U52">zeros(<span class="mxinfo" id="T2:U53"><span class="var type1" id="S434T2U2157">Nframes</span></span>,<span class="mxinfo" id="T2:U55">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,398" id="srcline398">398</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S438T2U2161">k</span>=<span class="mxinfo" id="T2:U57">1:<span class="var type1" id="S434T2U2164">Nframes</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,399" id="srcline399">399</a></span><span class="line">    <span class="mxinfo" id="T8:U59"><span class="mxinfo" id="T8:U60"><span class="var type1" id="S421T8U2168">RightHand_new</span>(<span class="mxinfo" id="T2:U62"><span class="var type1" id="S438T2U2169">k</span></span>,:)</span> = <span class="mxinfo" id="T8:U64"><span class="fcn" id="F174N25:B2172">ChangeEulerRotate_c</span>(  <span class="mxinfo" id="T8:U65"><span class="var type1" id="S431T8U2174">RHand_Nao</span>( <span class="mxinfo" id="T2:U67"><span class="var type1" id="S438T2U2175">k</span></span>,: )</span>,<span class="var type1" id="S435T7U2177">RHand_rotateOrder</span>,<span class="var type1" id="S424T7U2178">rotateOrder_BVH</span>,<span class="mxinfo" id="T8:U71"><span class="var type1" id="S436T8U2179">RHand_rotateDirection</span></span>,<span class="mxinfo" id="T8:U73"><span class="var type1" id="S437T8U2180">rotateDirection_BVH</span></span> )</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,400" id="srcline400">400</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,401" id="srcline401">401</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,402" id="srcline402">402</a></span><span class="line"><span class="comment">%% LHand</span></span></span>
</pre>
