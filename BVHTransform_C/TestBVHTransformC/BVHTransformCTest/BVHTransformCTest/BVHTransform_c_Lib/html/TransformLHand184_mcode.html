<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,401" id="srcline401">401</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,402" id="srcline402">402</a></span><span class="line"><span class="comment">%% LHand</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,403" id="srcline403">403</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S441T2U2183">LWristYaw</span>,<span class="var type1" id="S442T8U2184">LeftHand_new</span> ] = TransformLHand( <span class="var type1" id="S443T17U2187">C_Spine_LHand</span>,<span class="var type1" id="S444T17U2188">C_Spine_LForeArmNew</span>,<span class="mxinfo" id="T7:U5"><span class="var type2" id="S445T7V1U2189">rotateOrder_BVH</span></span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,404" id="srcline404">404</a></span><span class="line"><span class="mxinfo" id="T8:U7"><span class="var type1" id="S446T8U2192">rotateDirection_BVH</span> = <span class="mxinfo" id="T8:U9">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,405" id="srcline405">405</a></span><span class="line"><span class="mxinfo" id="T17:U10"><span class="var type1" id="S447T17U2200">C_LForeArmNew_Spine</span> = <span class="mxinfo" id="T17:U12"><span class="fcn" id="F76N9:B2202">InverseC_Multi</span>( <span class="var type1" id="S444T17U2203">C_Spine_LForeArmNew</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,406" id="srcline406">406</a></span><span class="line"><span class="mxinfo" id="T17:U14"><span class="var type1" id="S449T17U2206">C_LForeArmNew_LHand</span> = <span class="mxinfo" id="T17:U16"><span class="fcn" id="F73N4:B2208">CalculateC_Multi</span>( <span class="var type1" id="S447T17U2209">C_LForeArmNew_Spine</span>,<span class="var type1" id="S443T17U2210">C_Spine_LHand</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,407" id="srcline407">407</a></span><span class="line"><span class="mxinfo" id="T8:U19"><span class="var type1" id="S451T8U2213">E_LForeArmNew_LHand</span> = <span class="mxinfo" id="T8:U21"><span class="fcn" id="F178N23:B2215">CToEuler_c</span>( <span class="var type1" id="S449T17U2216">C_LForeArmNew_LHand</span>,<span class="string">'XYZ'</span> ,<span class="mxinfo" id="T8:U23"><span class="var type1" id="S446T8U2218">rotateDirection_BVH</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,408" id="srcline408">408</a></span><span class="line"><span class="mxinfo" id="T2:U25"><span class="var type1" id="S441T2U2221">LWristYaw</span> = <span class="mxinfo" id="T2:U27"><span class="var type1" id="S451T8U2224">E_LForeArmNew_LHand</span>(:,<span class="mxinfo" id="T2:U29">1</span>)</span>'</span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,409" id="srcline409">409</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,410" id="srcline410">410</a></span><span class="line"><span class="comment">%%% get new BVH</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,411" id="srcline411">411</a></span><span class="line"><span class="mxinfo" id="T8:U30"><span class="var type1" id="S453T8U2229">LHand_Nao</span> = <span class="mxinfo" id="T8:U32">zeros( size(<span class="var type1" id="S451T8U2234">E_LForeArmNew_LHand</span>) )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,412" id="srcline412">412</a></span><span class="line"><span class="mxinfo" id="T2:U34"><span class="mxinfo" id="T2:U35"><span class="var type1" id="S453T8U2238">LHand_Nao</span>(:,<span class="mxinfo" id="T2:U37">1</span>)</span> = <span class="mxinfo" id="T2:U38"><span class="var type1" id="S451T8U2242">E_LForeArmNew_LHand</span>(:,<span class="mxinfo" id="T2:U40">1</span>)</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,413" id="srcline413">413</a></span><span class="line"><span class="mxinfo" id="T2:U41"><span class="var type1" id="S456T2U2247">Nframes</span> = <span class="mxinfo" id="T2:U43">size(<span class="var type1" id="S443T17U2250">C_Spine_LHand</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,414" id="srcline414">414</a></span><span class="line"><span class="mxinfo" id="T7:U45"><span class="var type1" id="S457T7U2254">LHand_rotateOrder</span> = <span class="mxinfo" id="T7:U47"><span class="string">'XYZ'</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,415" id="srcline415">415</a></span><span class="line"><span class="mxinfo" id="T8:U48"><span class="var type1" id="S442T8U2258">LeftHand_new</span> = <span class="mxinfo" id="T8:U50">zeros(<span class="mxinfo" id="T2:U51"><span class="var type1" id="S456T2U2261">Nframes</span></span>,<span class="mxinfo" id="T2:U53">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,416" id="srcline416">416</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S458T2U2265">k</span>=<span class="mxinfo" id="T2:U55">1:<span class="var type1" id="S456T2U2268">Nframes</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,417" id="srcline417">417</a></span><span class="line">    <span class="mxinfo" id="T8:U57"><span class="mxinfo" id="T8:U58"><span class="var type1" id="S442T8U2272">LeftHand_new</span>(<span class="mxinfo" id="T2:U60"><span class="var type1" id="S458T2U2273">k</span></span>,:)</span> = <span class="mxinfo" id="T8:U62"><span class="fcn" id="F174N25:B2276">ChangeEulerRotate_c</span>(  <span class="mxinfo" id="T8:U63"><span class="var type1" id="S453T8U2278">LHand_Nao</span>( <span class="mxinfo" id="T2:U65"><span class="var type1" id="S458T2U2279">k</span></span>,: )</span>,<span class="var type1" id="S457T7U2281">LHand_rotateOrder</span>,<span class="var type1" id="S445T7U2282">rotateOrder_BVH</span> ,<span class="mxinfo" id="T8:U69">[1,1,1]</span>,<span class="mxinfo" id="T8:U70">[1,1,1]</span> )</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,418" id="srcline418">418</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,419" id="srcline419">419</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,420" id="srcline420">420</a></span><span class="line"><span class="comment">%% RUpLeg</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,421" id="srcline421">421</a></span><span class="line"><span class="comment">% HipYawPitch：左右大腿的 HipYawPitch Angle  [ 1*Nframes ]</span></span></span>
</pre>
