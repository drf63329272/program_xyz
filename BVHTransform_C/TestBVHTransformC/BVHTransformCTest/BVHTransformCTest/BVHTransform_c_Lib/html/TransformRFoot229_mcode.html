<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,524" id="srcline524">524</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,525" id="srcline525">525</a></span><span class="line"><span class="comment">%% RFoot</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,526" id="srcline526">526</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S568T2U2922">RAnklePitch</span>,<span class="var type1" id="S569T2U2923">RAnkleRoll</span>,<span class="var type1" id="S570T8U2924">RightFoot_new</span> ] = TransformRFoot( <span class="var type1" id="S571T17U2927">C_RLeg_RFoot</span>,<span class="mxinfo" id="T7:U5"><span class="var type2" id="S572T7V1U2928">rotateOrder_BVH</span></span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,527" id="srcline527">527</a></span><span class="line"><span class="mxinfo" id="T8:U7"><span class="var type1" id="S573T8U2931">rotateDirection_BVH</span> = <span class="mxinfo" id="T8:U9">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,528" id="srcline528">528</a></span><span class="line"><span class="mxinfo" id="T8:U10"><span class="var type1" id="S574T8U2939">E_RLeg_RFoot</span> = <span class="mxinfo" id="T8:U12"><span class="fcn" id="F226N23:B2941">CToEuler_c</span>( <span class="var type1" id="S571T17U2942">C_RLeg_RFoot</span>,<span class="string">'XZY'</span>,<span class="mxinfo" id="T8:U14"><span class="var type1" id="S573T8U2944">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,529" id="srcline529">529</a></span><span class="line"><span class="mxinfo" id="T2:U16"><span class="var type1" id="S568T2U2947">RAnklePitch</span> = <span class="mxinfo" id="T2:U18"><span class="var type1" id="S574T8U2950">E_RLeg_RFoot</span>( :,<span class="mxinfo" id="T2:U20">1</span> )</span>'</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,530" id="srcline530">530</a></span><span class="line"><span class="mxinfo" id="T2:U21"><span class="var type1" id="S569T2U2955">RAnkleRoll</span> = <span class="mxinfo" id="T2:U23"><span class="var type1" id="S574T8U2958">E_RLeg_RFoot</span>( :,<span class="mxinfo" id="T2:U25">2</span> )</span>'</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,531" id="srcline531">531</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,532" id="srcline532">532</a></span><span class="line"><span class="comment">%%% get new BVH</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,533" id="srcline533">533</a></span><span class="line"><span class="mxinfo" id="T2:U26"><span class="mxinfo" id="T2:U27"><span class="var type1" id="S574T8U2964">E_RLeg_RFoot</span>(:,<span class="mxinfo" id="T2:U29">3</span>)</span> = <span class="mxinfo" id="T2:U30">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,534" id="srcline534">534</a></span><span class="line"><span class="mxinfo" id="T17:U31"><span class="var type1" id="S576T17U2970">C_RLeg_RFoot_New</span> = <span class="mxinfo" id="T17:U33"><span class="fcn" id="F228N26:B2972">EulerToC_c</span>( <span class="var type1" id="S574T8U2973">E_RLeg_RFoot</span>,<span class="string">'XZY'</span>,<span class="mxinfo" id="T8:U35">[1,1,1]</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,535" id="srcline535">535</a></span><span class="line"><span class="mxinfo" id="T8:U36"><span class="var type1" id="S570T8U2982">RightFoot_new</span> = <span class="mxinfo" id="T8:U38"><span class="fcn" id="F118N23:B2984">CToEuler_c</span>( <span class="var type1" id="S576T17U2985">C_RLeg_RFoot_New</span>,<span class="var type1" id="S572T7U2986">rotateOrder_BVH</span>,<span class="mxinfo" id="T8:U41"><span class="var type1" id="S573T8U2987">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,536" id="srcline536">536</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,537" id="srcline537">537</a></span><span class="line"><span class="comment">%% LFoot</span></span></span>
</pre>
