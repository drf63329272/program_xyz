<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,498" id="srcline498">498</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,499" id="srcline499">499</a></span><span class="line"><span class="comment">%% LLeg</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,500" id="srcline500">500</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S547T2U2761">LKneePitch</span>,<span class="var type1" id="S548T8U2762">LeftLeg_New</span> ] = TransformLLeg( <span class="var type1" id="S549T17U2765">C_Hip_LUpLegNew</span>,<span class="var type1" id="S550T17U2766">C_Hip_LLeg</span>,<span class="mxinfo" id="T7:U5"><span class="var type2" id="S551T7V1U2767">rotateOrder_BVH</span></span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,501" id="srcline501">501</a></span><span class="line"><span class="mxinfo" id="T17:U7"><span class="var type1" id="S552T17U2770">C_LUpLegNew_Hip</span> = <span class="mxinfo" id="T17:U9"><span class="fcn" id="F76N9:B2772">InverseC_Multi</span>( <span class="var type1" id="S549T17U2773">C_Hip_LUpLegNew</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,502" id="srcline502">502</a></span><span class="line"><span class="mxinfo" id="T17:U11"><span class="var type1" id="S554T17U2776">C_LUpLegNew_LLeg</span> = <span class="mxinfo" id="T17:U13"><span class="fcn" id="F73N4:B2778">CalculateC_Multi</span>( <span class="var type1" id="S552T17U2779">C_LUpLegNew_Hip</span>,<span class="var type1" id="S550T17U2780">C_Hip_LLeg</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,503" id="srcline503">503</a></span><span class="line"><span class="mxinfo" id="T8:U16"><span class="var type1" id="S556T8U2783">rotateDirection_BVH</span> = <span class="mxinfo" id="T8:U18">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,504" id="srcline504">504</a></span><span class="line"><span class="mxinfo" id="T8:U19"><span class="var type1" id="S557T8U2791">E_LUpLegNew_LLeg</span> = <span class="mxinfo" id="T8:U21"><span class="fcn" id="F178N23:B2793">CToEuler_c</span>( <span class="var type1" id="S554T17U2794">C_LUpLegNew_LLeg</span>,<span class="string">'XYZ'</span>,<span class="mxinfo" id="T8:U23"><span class="var type1" id="S556T8U2796">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,505" id="srcline505">505</a></span><span class="line"><span class="mxinfo" id="T2:U25"><span class="var type1" id="S547T2U2799">LKneePitch</span> = <span class="mxinfo" id="T2:U27"><span class="var type1" id="S557T8U2802">E_LUpLegNew_LLeg</span>(:,<span class="mxinfo" id="T2:U29">1</span>)</span>'</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,506" id="srcline506">506</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,507" id="srcline507">507</a></span><span class="line"><span class="mxinfo" id="T42:U30"><span class="autoExtrinsicFcn" id="F250N33:B2807">figure</span>(<span class="mxinfo" id="T41:U31"><span class="string">'name'</span></span>,<span class="mxinfo" id="T44:U32"><span class="string">'LeftLeg_Nao'</span></span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,508" id="srcline508">508</a></span><span class="line"><span class="mxinfo" id="T42:U33"><span class="autoExtrinsicFcn" id="F251N35:B2812">subplot</span>(<span class="mxinfo" id="T2:U34">3</span>,<span class="mxinfo" id="T2:U35">1</span>,<span class="mxinfo" id="T2:U36">1</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,509" id="srcline509">509</a></span><span class="line"><span class="mxinfo" id="T42:U37"><span class="autoExtrinsicFcn" id="F252N34:B2818">plot</span>(<span class="mxinfo" id="T2:U38"><span class="mxinfo" id="T2:U39"><span class="mxinfo" id="T2:U40"><span class="var type1" id="S557T8U2822">E_LUpLegNew_LLeg</span>(:,<span class="mxinfo" id="T2:U42">1</span>)</span>*<span class="mxinfo" id="T2:U43">180</span></span>/<span class="mxinfo" id="T2:U44">pi</span></span>,<span class="mxinfo" id="T16:U45"><span class="string">'r'</span></span>  )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,510" id="srcline510">510</a></span><span class="line"><span class="mxinfo" id="T42:U46"><span class="autoExtrinsicFcn" id="F253N36:B2831">ylabel</span>(<span class="mxinfo" id="T16:U47"><span class="string">'x'</span></span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,511" id="srcline511">511</a></span><span class="line"><span class="mxinfo" id="T42:U48"><span class="autoExtrinsicFcn" id="F254N35:B2835">subplot</span>(<span class="mxinfo" id="T2:U49">3</span>,<span class="mxinfo" id="T2:U50">1</span>,<span class="mxinfo" id="T2:U51">2</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,512" id="srcline512">512</a></span><span class="line"><span class="mxinfo" id="T42:U52"><span class="autoExtrinsicFcn" id="F255N34:B2841">plot</span>(<span class="mxinfo" id="T2:U53"><span class="mxinfo" id="T2:U54"><span class="mxinfo" id="T2:U55"><span class="var type1" id="S557T8U2845">E_LUpLegNew_LLeg</span>(:,<span class="mxinfo" id="T2:U57">2</span>)</span>*<span class="mxinfo" id="T2:U58">180</span></span>/<span class="mxinfo" id="T2:U59">pi</span></span>,<span class="mxinfo" id="T16:U60"><span class="string">'b'</span></span>  )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,513" id="srcline513">513</a></span><span class="line"><span class="mxinfo" id="T42:U61"><span class="autoExtrinsicFcn" id="F256N36:B2854">ylabel</span>(<span class="mxinfo" id="T16:U62"><span class="string">'y'</span></span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,514" id="srcline514">514</a></span><span class="line"><span class="mxinfo" id="T42:U63"><span class="autoExtrinsicFcn" id="F257N35:B2858">subplot</span>(<span class="mxinfo" id="T2:U64">3</span>,<span class="mxinfo" id="T2:U65">1</span>,<span class="mxinfo" id="T2:U66">3</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,515" id="srcline515">515</a></span><span class="line"><span class="mxinfo" id="T42:U67"><span class="autoExtrinsicFcn" id="F258N34:B2864">plot</span>(<span class="mxinfo" id="T2:U68"><span class="mxinfo" id="T2:U69"><span class="mxinfo" id="T2:U70"><span class="var type1" id="S557T8U2868">E_LUpLegNew_LLeg</span>(:,<span class="mxinfo" id="T2:U72">3</span>)</span>*<span class="mxinfo" id="T2:U73">180</span></span>/<span class="mxinfo" id="T2:U74">pi</span></span>,<span class="mxinfo" id="T16:U75"><span class="string">'k'</span></span>  )</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,516" id="srcline516">516</a></span><span class="line"><span class="mxinfo" id="T42:U76"><span class="autoExtrinsicFcn" id="F259N36:B2877">ylabel</span>(<span class="mxinfo" id="T16:U77"><span class="string">'z'</span></span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,517" id="srcline517">517</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,518" id="srcline518">518</a></span><span class="line"><span class="comment">%%% get new BVH</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,519" id="srcline519">519</a></span><span class="line"><span class="mxinfo" id="T8:U78"><span class="var type1" id="S564T8U2881">E_LUpLegNew_LLegNew</span> = <span class="var type1" id="S557T8U2882">E_LUpLegNew_LLeg</span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="1,520" id="srcline520">520</a></span><span class="line"><span class="mxinfo" id="T23:U81"><span class="mxinfo" id="T23:U82"><span class="var type1" id="S564T8U2886">E_LUpLegNew_LLegNew</span>(:,2:3)</span> = <span class="mxinfo" id="T2:U84">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,521" id="srcline521">521</a></span><span class="line"><span class="mxinfo" id="T17:U85"><span class="var type1" id="S565T17U2894">C_LUpLegNew_LLegNew</span> = <span class="mxinfo" id="T17:U87"><span class="fcn" id="F173N26:B2896">EulerToC_c</span>( <span class="var type1" id="S564T8U2897">E_LUpLegNew_LLegNew</span>,<span class="string">'XYZ'</span>,<span class="mxinfo" id="T8:U89">[1,1,1]</span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,522" id="srcline522">522</a></span><span class="line"><span class="mxinfo" id="T8:U90"><span class="var type1" id="S556T8U2906">rotateDirection_BVH</span> = <span class="mxinfo" id="T8:U92">[1,1,1]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,523" id="srcline523">523</a></span><span class="line"><span class="mxinfo" id="T8:U93"><span class="var type1" id="S548T8U2914">LeftLeg_New</span> = <span class="mxinfo" id="T8:U95"><span class="fcn" id="F118N23:B2916">CToEuler_c</span>( <span class="var type1" id="S565T17U2917">C_LUpLegNew_LLegNew</span>,<span class="var type1" id="S551T7U2918">rotateOrder_BVH</span>,<span class="mxinfo" id="T8:U98"><span class="var type1" id="S556T8U2919">rotateDirection_BVH</span></span> )</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,524" id="srcline524">524</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,525" id="srcline525">525</a></span><span class="line"><span class="comment">%% RFoot</span></span></span>
</pre>
